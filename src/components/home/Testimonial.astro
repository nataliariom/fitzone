---
// Testimonial.astro
import Testimonial1 from '../../assets/images/Testimonial-1.jpg';
import Testimonial2 from '../../assets/images/Testimonial-2.jpg';
import Testimonial3 from '../../assets/images/Testimonial-3.jpg';
import Testimonial4 from '../../assets/images/Testimonial-4.jpg';
import { Image } from 'astro:assets';

const testimonials = [
  {
    image: Testimonial1,
    name: 'Karen Mendoza',
    text: `Tomé el paquete de inicio y fue lo mejor que pude hacer. Las clases grupales son súper dinámicas y me motivan a regresar. El ambiente es relajado pero enfocado. ¡Me encanta!`,
  },
  {
    image: Testimonial2,
    name: 'Diego Torres',
    text: `FitZone fue justo lo que buscaba: un lugar donde pudiera entrenar sin sentirme juzgado. Las clases están pensadas para todos los niveles y el seguimiento mensual es muy útil.`,
  },
  {
    image: Testimonial3,
    name: 'Mariana López',
    text: `Al principio tenía miedo de no seguir el ritmo, pero los entrenadores te acompañan en todo momento. Me siento mucho más fuerte, enfocada y feliz desde que empecé en FitZone.`,
  },
  {
    image: Testimonial4,
    name: 'Rafael Jiménez',
    text: `Nunca había ido a un gimnasio y ahora no me lo pierdo. Las clases, el ambiente y la atención personalizada hacen toda la diferencia. Ya no lo veo como una obligación, ¡sino como mi espacio!`,
  },
];

---
<section class="d2c_testimonials d2c_gradient_bl" id="d2c_testimonial">
   <div class="container overflow-hidden"></div>
  <div class="container mx-auto px-4">
    <div class="text-center max-w-3xl mx-auto mb-12">
      <h2 class="text-4xl font-bold text-white mb-6">Lo que dicen nuestros<br /><span class="text-outline"> clientes</span></h2>
      <p class="text-gray-400">Opiniones reales de personas reales que decidieron transformar su vida con FitZone.</p>
    </div>


    <!--  Desktop -->
    <div class="hidden lg:flex gap-4 overflow-hidden" id="testimonial-desktop">
      {
        testimonials.map((item, index) => (
          <div class="testimonial-team group flex-[0.9] rounded-xl overflow-hidden transition-all duration-500 cursor-pointer relative h-[480px] bg-black text-white">
            <div class="w-full h-full relative">
             <Image
                src={item.image}
                alt={item.name}
                class="w-full h-full object-cover grayscale group-[.active]:grayscale-0 transition-all duration-300"
                loading="lazy"
              />         
             <div class="absolute inset-0 bg-black/40"></div>
            </div>
            <div class="absolute inset-0 p-6 flex items-end opacity-0 max-w-0 transform translate-y-4 group-[.active]:opacity-100 group-[.active]:max-w-md group-[.active]:translate-y-0 transition-all duration-500 pointer-events-none group-[.active]:pointer-events-auto">
              <div>
                <p class="text-sm text-white leading-relaxed">{item.text}</p>
                <h5 class="mt-4 text-xl font-semibold text-primary uppercase">{item.name}</h5>
              </div>
            </div>
          </div>
        ))
      }
    </div>

    <!--  Mobile layout -->
    <div class="block lg:hidden mt-10 space-y-6">
      {
        testimonials.map((item) => (
          <div class="border-greenish-gray rounded-lg overflow-hidden shadow-lg text-center">
          <Image
              src={item.image}
              alt={item.name}
              class="w-full h-64 object-cover"
              loading="lazy"
            />      
                  <div class="p-4">
              <p class="text-white-700 text-sm mb-3">{item.text}</p>
              <h5 class="text-primary uppercase font-bold text-lg">{item.name}</h5>
            </div>
          </div>
        ))
      }
    </div>
  </div>
</section>
<script is:inline>
  const teams = document.querySelectorAll('.testimonial-team');
  if (teams.length) {
    teams[0].classList.add('active');
    teams.forEach((b) => {
      b.addEventListener('click', () => {
        teams.forEach((g) => g.classList.remove('active'));
        b.classList.add('active');
      });
    });
  }
</script>


