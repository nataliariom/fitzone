---
const faqList = [
  {
    question: "¿Y si nunca he hecho ejercicio?",
    answer: "No te preocupes. Justo por eso existe FitZone. Aquí todos empezamos en algún punto, y nuestros entrenadores te acompañan paso a paso.",
  },
  {
    question: "¿Tengo que estar en forma para comenzar?",
    answer: "¡Para nada! Vienes para ponerte en forma, no al revés. Adaptamos rutinas a tu nivel actual. Lo importante es que empieces.",
  },
  {
    question: "¿Puedo probar una clase antes de decidirme?",
    answer: "Claro. Te regalamos una clase para que conozcas el espacio, los entrenadores y veas si es para ti (spoiler: sí lo es).",
  },
  {
    question: "¿Qué necesito llevar a mi primera clase?",
    answer: "Ropa cómoda, una botella de agua y actitud. Lo demás lo ponemos nosotros. Te sentirás como en casa.",
  },
  {
    question: "¿Cuánto cuesta y hay contratos?",
    answer: "Tenemos planes flexibles según lo que busques. Puedes venir por clase o tener membresía. Nada de contratos forzosos.",
  },
  {
    question: "¿Qué pasa si no tengo tiempo?",
    answer: "Por eso diseñamos rutinas y horarios que se adaptan a tu ritmo. Aquí no hay excusas, solo soluciones.",
  },
];

---

<section class="d2c_gradient_lb" id="d2c_faq">
  <div class="container">
    <div class="text-center w-full md:w-11/12 lg:w-4/5 xl:w-[60%] mx-auto">
      <h2 class="d2c_title">
        Preguntas  <br />
        <span class="text-outline" data-text="Frecuentes">Frecuentes</span>
      </h2>
      <p class="w-full md:w-4/5 xl:w-3/4 mx-auto">
        Respondemos con claridad y sin rodeos para ayudarte a resolver esas dudas que te frenan antes de empezar. ¡Aquí todo se vale preguntar!
      </p>
    </div>


    <div class="mb-6 w-full border border-greenish-gray rounded-lg mt-6 md:mt-10 p-5 md:py-14 md:px-20">
      {faqList.map((item, idx) => (
        <div class="border-b border-b-greenish-gray">
          <div class="accordion-header cursor-pointer flex items-center gap-4 py-4">
            <span class="text-primary" data-icon-wrapper data-state="closed">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 icon-plus" viewBox="0 0 24 24" fill="currentColor"><path d="M19 11H13V5h-2v6H5v2h6v6h2v-6h6z"/></svg>
              <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 icon-minus hidden" viewBox="0 0 24 24" fill="currentColor"><path d="M19 13H5v-2h14v2z"/></svg>
            </span>
            <h4 class="d2c_subtitle">{item.question}</h4>
          </div>
          <div class="accordion-content overflow-hidden max-h-0 transition-all duration-300">
            <p class="d2c_answer py-4">{item.answer}</p>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<script is:inline>
  document.addEventListener("DOMContentLoaded", () => {
    const headers = document.querySelectorAll(".accordion-header");

    headers.forEach((header, idx) => {
      const content = header.nextElementSibling;
      const iconWrapper = header.querySelector("[data-icon-wrapper]");
      const plusIcon = iconWrapper?.querySelector(".icon-plus");
      const minusIcon = iconWrapper?.querySelector(".icon-minus");

      if (idx === 0) {
        header.classList.add("active");
        content.style.maxHeight = content.scrollHeight + 32 + "px";
        iconWrapper.setAttribute("data-state", "open");
        plusIcon?.classList.add("hidden");
        minusIcon?.classList.remove("hidden");
      }

      header.addEventListener("click", () => {
        headers.forEach(h => {
          h.classList.remove("active");
          const cont = h.nextElementSibling;
          const iconW = h.querySelector("[data-icon-wrapper]");
          const plus = iconW?.querySelector(".icon-plus");
          const minus = iconW?.querySelector(".icon-minus");
          if (cont) cont.style.maxHeight = "";
          iconW?.setAttribute("data-state", "closed");
          plus?.classList.remove("hidden");
          minus?.classList.add("hidden");
        });

        if (content.style.maxHeight === "") {
          content.style.maxHeight = content.scrollHeight + 32 + "px";
          header.classList.add("active");
          iconWrapper?.setAttribute("data-state", "open");
          plusIcon?.classList.add("hidden");
          minusIcon?.classList.remove("hidden");
        }
      });
    });
  });
</script>
